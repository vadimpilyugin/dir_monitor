### Компиляция и запуск
```bash
make deps
make all
./monitor [DIRECTORY] [POST_URL]
```
Параметры программе передаются в командной строке.

### Работа программы
При старте программы она смотрит в заданную директорию и открывает с флагом 
O_CREAT файл sent_list.txt. Этот файл содержит имена файлов в данной директории,
которые уже были успешно отправлены. Все неотправленные файлы ставятся
в очередь.

Далее, через интерфейс inotify с помощью библиотеки fsnotify отслеживаются
события IN_CREATE и IN_CLOSE_WRITE. Два таких последовательных события
над одним и тем же файлом программа воспринимает как готовый к отправлению 
файл, который ставится в очередь.

Если отправка файла была неуспешной, то файл возвращается в очередь через
одну секунду, иначе он записывается в файл sent_list.txt.

### Возможные проблемы
- Программа не отслеживает ситуацию перемещения файла из другой директории
- Программа не проверяет права доступа к файлам, т.о. файл может попасть
  в очередь навсегда
- При запуске программы для директории с большим числом неотправленных файлов
  будет большое количество одновременных запросов
- Не отслеживается случай удаления sent_list.txt во время работы программы.
